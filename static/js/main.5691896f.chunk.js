(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var a=c(20),s=c.n(a),n=c(7),i=c(4),r=c(5),o=c.n(r),l=c(6),j=c(3),b=c(0),d=(c(31),c(32),c.p+"static/media/LOGO.13ce922e.svg"),u=c.p+"static/media/Arrow.a61ad2d0.svg",m=c(1),h=function(){return Object(m.jsx)("footer",{className:"footer",children:Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("div",{className:"footer__container",children:[Object(m.jsx)("img",{src:d,className:"footer__logo",alt:"logo_image"}),Object(m.jsxs)("nav",{className:"nav__list",children:[Object(m.jsx)(l.b,{to:"/",className:"nav__list-item",children:"Github"}),Object(m.jsx)(l.b,{to:"/",className:"nav__list-item",children:"Contacts"}),Object(m.jsx)(l.b,{to:"/",className:"nav__list-item",children:"rights"})]}),Object(m.jsxs)("div",{className:"nav__top",children:[Object(m.jsx)("div",{className:"nav__top-text",children:"Back to top"}),Object(m.jsx)("button",{className:"nav__top-button",type:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(m.jsx)("img",{src:u,alt:"arrow",className:"nav__top-img"})})]})]})})})},O=(c(34),c(12)),_=c.n(O),p=c.p+"static/media/Favorite_icon.18a4d0a4.svg",x=c.p+"static/media/Basket_icon.1beda4df.svg",g=(c(35),Object(b.createContext)(void 0)),v=function(e){var t=e.children,c=Object(b.useState)(""),a=Object(i.a)(c,2),s=a[0],n=a[1];return Object(m.jsx)(g.Provider,{value:{searchText:s,setSearchText:n},children:t})},f=function(){var e=Object(b.useContext)(g);if(!e)throw new Error("useSearchContext must be used within a SearchProvider");return e},N=function(){var e=Object(j.n)().pathname,t=f(),c=t.searchText,a=t.setSearchText,s=Object(b.useRef)(null),n=Object(b.useState)(!1),r=Object(i.a)(n,2),o=r[0],l=r[1];return Object(m.jsxs)("div",{className:"searchField",children:[Object(m.jsx)("input",{ref:s,type:"text",className:"searchField__input",id:"search",placeholder:"Search in ".concat(e.slice(1),"..."),value:c,onChange:function(e){a(e.target.value)},onFocus:function(){return l(!0)},onBlur:function(){l(!1)}}),Object(m.jsx)("button",{type:"button",className:"searchField__button",onClick:function(){o&&c.length>0&&a(""),s.current&&!o&&s.current.focus()},children:Object(m.jsx)("span",{className:_()("searchField__img",{"searchField__img-close":o&&c.length>0})})})]})},y=function(e){var t=e.isActive;return _()("navbar__list-item",{"is-active":t})},w=function(){var e="/phone"===Object(j.n)().pathname;return Object(m.jsx)("header",{className:"header",children:Object(m.jsxs)("div",{className:"navigation",children:[Object(m.jsxs)("div",{className:"navigation__left",children:[Object(m.jsx)(l.b,{to:"/",className:"navigation__logo",children:Object(m.jsx)("img",{src:d,className:"navigation__logo-image",alt:"logo_image"})}),Object(m.jsx)("nav",{className:"navbar",children:Object(m.jsxs)("ul",{className:"navbar__list",children:[Object(m.jsx)(l.c,{to:"/",className:y,children:"home"}),Object(m.jsx)(l.c,{to:"phone",className:y,children:"phones"}),Object(m.jsx)(l.c,{to:"tablet",className:y,children:"tablets"}),Object(m.jsx)(l.c,{to:"accessory",className:y,children:"accessories"})]})})]}),Object(m.jsxs)("div",{className:"navigation__right",children:[e&&Object(m.jsx)(N,{}),Object(m.jsx)(l.b,{to:"/",className:"navigation__icon",children:Object(m.jsx)("img",{src:p,alt:"icon_favorite",className:"navigation__icon-favorite"})}),Object(m.jsx)(l.b,{to:"/",className:"navigation__icon",children:Object(m.jsx)("img",{src:x,alt:"icon-basket",className:"navigation__icon-basket"})})]})]})})},S=function(){return Object(m.jsx)(v,{children:Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(w,{}),Object(m.jsx)("main",{className:"main",children:Object(m.jsx)("div",{className:"main-container",children:Object(m.jsx)(j.a,{})})}),Object(m.jsx)(h,{})]})})},k=(c(36),c(14)),C=(c(37),c.p+"static/media/Banner.a34f00c7.jpg"),P=(c(38),function(){return Object(m.jsx)("section",{className:"banner",children:Object(m.jsxs)(k.a,{id:"banner__slider","aria-label":"Baner-first",options:{autoplay:!0,interval:5e3},children:[Object(m.jsx)(k.b,{children:Object(m.jsx)("img",{src:C,alt:"slide1"})}),Object(m.jsx)(k.b,{children:Object(m.jsx)("img",{src:C,alt:"slide2"})}),Object(m.jsx)(k.b,{children:Object(m.jsx)("img",{src:C,alt:"slide3"})})]})})}),L=(c(39),c(40),c.p+"static/media/Favourites (Heart Like).e44e5018.svg"),E=function(e){var t=e.product,c=t.name,a=t.price,s=t.fullPrice,n=t.screen,i=t.capacity,r=t.ram,o=t.image;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"card",children:[Object(m.jsx)("img",{src:"".concat("https://mate-academy.github.io/react_phone-catalog/_new/").concat(o),alt:"image__phone",className:"card__img"}),Object(m.jsx)("div",{className:"card__title",children:c}),Object(m.jsxs)("div",{className:"card__price",children:["$",a,Object(m.jsxs)("span",{children:["$",s]})]}),Object(m.jsxs)("div",{className:"card__properties",children:[Object(m.jsxs)("div",{className:"card__properties-names",children:[Object(m.jsx)("div",{className:"card__properties-name",children:"Screen"}),Object(m.jsx)("div",{className:"card__properties-name",children:"Capacity"}),Object(m.jsx)("div",{className:"card__properties-name",children:"RAM"})]}),Object(m.jsxs)("div",{className:"card__properties-values",children:[Object(m.jsx)("div",{className:"card__properties-value",children:n}),Object(m.jsx)("div",{className:"card__properties-value",children:i}),Object(m.jsx)("div",{className:"card__properties-value",children:r})]})]}),Object(m.jsxs)("div",{className:"card__button",children:[Object(m.jsx)("button",{className:"card__button-add",type:"button",children:"Add to card"}),Object(m.jsx)("button",{className:"card__button--favorite",type:"button",children:Object(m.jsx)("img",{src:L,alt:"heart",className:"card__button--favorite-img"})})]})]})})},F=function(e){var t=e.products;return Object(m.jsxs)("section",{className:"product",children:[Object(m.jsx)("h1",{className:"product__title",children:"Hot prices"}),Object(m.jsx)(k.a,{id:"product__slider","aria-label":"Baner-first",options:{perPage:4,gap:16,pagination:!1},children:t.map((function(e){return Object(m.jsx)(k.b,{children:Object(m.jsx)(E,{product:e})},e.id)}))})]})},R=(c(41),c.p+"static/media/mobile.b914f412.png"),A=c.p+"static/media/tablet.ed3dd9df.png",B=c.p+"static/media/accessories.8478b80a.png",T=function(){return Object(m.jsxs)("section",{className:"category",children:[Object(m.jsx)("div",{className:"category__title",children:"Shop by category"}),Object(m.jsxs)("div",{className:"category__list",children:[Object(m.jsxs)("div",{className:"category__item",children:[Object(m.jsx)(l.b,{to:"/",className:"category__item-link",children:Object(m.jsx)("img",{src:R,alt:"category_img",className:"category__item-img"})}),Object(m.jsx)("div",{className:"category__item-title",children:"Mobile phones"}),Object(m.jsx)("div",{className:"category__item-amount",children:"95 models"})]}),Object(m.jsxs)("div",{className:"category__item",children:[Object(m.jsx)(l.b,{to:"/",className:"category__item-link",children:Object(m.jsx)("img",{src:A,alt:"category_img",className:"category__item-img"})}),Object(m.jsx)("div",{className:"category__item-title",children:"Mobile phones"}),Object(m.jsx)("div",{className:"category__item-amount",children:"95 models"})]}),Object(m.jsxs)("div",{className:"category__item",children:[Object(m.jsx)(l.b,{to:"/",className:"category__item-link",children:Object(m.jsx)("img",{src:B,alt:"category_img",className:"category__item-img"})}),Object(m.jsx)("div",{className:"category__item-title",children:"Mobile phones"}),Object(m.jsx)("div",{className:"category__item-amount",children:"95 models"})]})]})]})},M=function(e){var t=e.products;return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(P,{}),Object(m.jsx)(F,{products:t}),Object(m.jsx)(T,{}),Object(m.jsx)(F,{products:t})]})},U=c(9),V=(c(42),function(){var e=Object(j.n)().pathname.split("/").filter((function(e){return""!==e})),t="";return Object(m.jsxs)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:[Object(m.jsx)(l.b,{to:"/",className:"breadcrumbs__home"}),e.map((function(e){return t+="/".concat(e.toLowerCase()),Object(m.jsxs)("div",{className:"breadcrumbs__link",children:[Object(m.jsx)("div",{className:"breadcrumbs__icon"}),Object(m.jsx)(l.b,{to:"".concat(t),className:"breadcrumbs__link-to",children:e},e),Object(m.jsx)("div",{})]},e)}))]})}),G=(c(43),c.p+"static/media/arrow.53e0b566.svg"),H=function(e){var t=e.options,c=e.label,a=e.startValue,s=e.selectChange,n=Object(b.useState)(!1),r=Object(i.a)(n,2),o=r[0],l=r[1],j=Object(b.useState)(a),d=Object(i.a)(j,2),u=d[0],h=d[1],O=Object(b.useRef)(null),p=function(e){O.current&&!O.current.contains(e.target)&&l(!1)};return Object(b.useEffect)((function(){o?document.body.addEventListener("click",p):document.body.removeEventListener("click",p)}),[o]),Object(m.jsxs)("div",{className:"dropdown",ref:O,children:[Object(m.jsx)("p",{className:"dropdown__label",children:c}),Object(m.jsxs)("button",{className:_()("dropdown__select",{"dropdown__select--active":o}),type:"button",onClick:function(){return l(!o)},children:[u,Object(m.jsx)("img",{src:G,alt:"arrow",className:_()("dropdown__arrow",{"dropdown__arrow--open":o})})]}),o&&Object(m.jsx)("div",{className:"dropdown__list",children:t.map((function(e){return Object(m.jsx)("button",{className:"dropdown__list-option",onClick:function(){h(e),l(!1),s(e)},type:"button",children:e},e)}))})]})},I=(c(44),c(45),function(e){var t=e.totalPages,c=e.currentPage,a=e.onPageChange,s=Object(l.d)(),n=Object(i.a)(s,2),r=n[0],o=n[1],j=function(e){o((function(t){var c=new URLSearchParams(t.toString());return c.set("page",e.toString()),c}))},b=Number(r.get("page"));console.log(b,c,1===c);return Object(m.jsxs)("div",{className:"pagination",children:[Object(m.jsx)("button",{className:"pagination__left",type:"button",disabled:1===c,onClick:function(){c>1&&(a(c-1),j(c-1))},children:Object(m.jsx)("span",{className:"pagination__icon pagination__left-icon"})}),Object(m.jsx)("div",{className:"pagination__list",children:Array.from({length:t},(function(e,t){return Object(m.jsx)("button",{type:"button",className:_()("pagination__list-item",{active:c===t+1}),onClick:function(){a(t+1),j(t+1)},children:t+1},t+1)}))}),Object(m.jsx)("button",{className:"pagination__right",type:"button",disabled:c===t,onClick:function(){c<t&&(a(c+1),j(c+1))},children:Object(m.jsx)("span",{className:"pagination__icon pagination__right-icon"})})]})}),J=["newest","alphabetically","price"],$=["all","4","8","16"],q=function(e){var t=e.products,c=f().searchText,a=Object(l.d)(),s=Object(i.a)(a,2),n=s[0],r=s[1],o=Object(b.useState)(""),j=Object(i.a)(o,2),d=j[0],u=j[1],h=Object(b.useState)($[0]),O=Object(i.a)(h,2),_=O[0],p=O[1],x=Object(b.useState)(t),g=Object(i.a)(x,2),v=g[0],N=g[1],y=n.get("sort")||"",w=n.get("perPage")||"",S=Object(b.useState)(1),k=Object(i.a)(S,2),C=k[0],P=k[1],L=n.get("page"),F=Object(b.useState)(L?Number(L):1),R=Object(i.a)(F,2),A=R[0],B=R[1],T=Object(b.useState)(t),M=Object(i.a)(T,2),G=M[0],q=M[1],z=function(e,t){"sort"===e?u(t):"perPage"===e&&p(t),r((function(c){return c.set(e,t),new URLSearchParams(c.toString())}))};Object(b.useEffect)((function(){y&&u(y),w&&p(w),r((function(e){return e.set("query",c||""),L||e.set("page","1"),new URLSearchParams(e.toString())}))}),[n,c]),Object(b.useEffect)((function(){var e=Object(U.a)(t);switch(d){case"newest":e.sort((function(e,t){return t.year-e.year}));break;case"alphabetically":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}))}var a=e.filter((function(e){return e.name.toLowerCase().includes(c.toLowerCase())}));N(a)}),[t,d,_,c]);return Object(b.useEffect)((function(){if("all"!==_){var e=Math.ceil(v.length/Number(_)),t=(A-1)*Number(_),c=t+Number(_),a=v.slice(t,c);q(a),P(e)}else{var s=v.slice(0,v.length);q(s),P(1)}}),[v,C,A,c]),Object(b.useEffect)((function(){L||r((function(e){var t=new URLSearchParams(e.toString());return t.set("page","1"),t}))}),[n]),Object(m.jsxs)("section",{className:"mobile__container",children:[Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)(V,{}),Object(m.jsxs)("div",{className:"mobile",children:[Object(m.jsx)("div",{className:"mobile__title",children:"Mobile phones"}),Object(m.jsx)("p",{className:"mobile__count",children:"".concat(t.length," models")}),Object(m.jsxs)("div",{className:"mobile__dropdown",children:[Object(m.jsx)(H,{options:J,startValue:y||"Choose an option",label:"Sort by",selectChange:function(e){z("sort",e)}}),Object(m.jsx)(H,{options:$,startValue:w||"All",label:"Items on page",selectChange:function(e){z("perPage",e),B(1),r((function(e){return e.delete("page"),new URLSearchParams(e.toString())}))}})]}),Object(m.jsx)("div",{className:"mobile__list",children:G.map((function(e){return Object(m.jsx)(E,{product:e},e.id)}))})]})]}),1!==C&&!!v.length&&Object(m.jsx)(I,{totalPages:C,onPageChange:function(e){B(e),r((function(t){var c=new URLSearchParams(t.toString());return c.set("page",e.toString()),c}))},currentPage:A})]})},z=function(){return Object(m.jsx)("div",{children:"TabletPages"})},D=function(){return Object(m.jsx)("div",{children:"AccessoriesPages"})},K=function(e){return fetch("https://mate-academy.github.io/react_phone-catalog/_new"+e).then((function(e){if(!e.ok)throw new Error;return e.json()}))},Q=function(){var e=Object(b.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=function(){var e=Object(n.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,K("/products.json");case 3:t=e.sent,a(t);case 5:return e.prev=5,console.log("yes"),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(){return e.apply(this,arguments)}}();return Object(b.useEffect)((function(){s()}),[]),Object(m.jsx)(l.a,{children:Object(m.jsx)(j.d,{children:Object(m.jsxs)(j.b,{path:"/",element:Object(m.jsx)(S,{}),children:[Object(m.jsx)(j.b,{index:!0,element:Object(m.jsx)(M,{products:c})}),Object(m.jsx)(j.b,{path:"phone",children:Object(m.jsx)(j.b,{index:!0,element:Object(m.jsx)(q,{products:c})})}),Object(m.jsx)(j.b,{path:"tablet",children:Object(m.jsx)(j.b,{index:!0,element:Object(m.jsx)(z,{})})}),Object(m.jsx)(j.b,{path:"accessory",children:Object(m.jsx)(j.b,{index:!0,element:Object(m.jsx)(D,{})})})]})})})};c(46);s.a.render(Object(m.jsx)(Q,{}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.5691896f.chunk.js.map