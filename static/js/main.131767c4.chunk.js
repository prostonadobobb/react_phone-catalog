(this["webpackJsonpreact_phone-catalog"]=this["webpackJsonpreact_phone-catalog"]||[]).push([[0],{31:function(e,t,c){},32:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},48:function(e,t,c){},50:function(e,t,c){"use strict";c.r(t);var a=c(20),n=c.n(a),s=c(7),r=c(4),i=c(5),o=c.n(i),l=c(6),j=c(3),d=c(0),b=c.n(d),u=(c(31),c(32),c.p+"static/media/LOGO.13ce922e.svg"),m=c.p+"static/media/Arrow.a61ad2d0.svg",h=c(1),O=function(){return Object(h.jsx)("footer",{className:"footer",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("div",{className:"footer__container",children:[Object(h.jsx)("img",{src:u,className:"footer__logo",alt:"logo_image"}),Object(h.jsxs)("nav",{className:"nav__list",children:[Object(h.jsx)(l.b,{to:"/",className:"nav__list-item",children:"Github"}),Object(h.jsx)(l.b,{to:"/",className:"nav__list-item",children:"Contacts"}),Object(h.jsx)(l.b,{to:"/",className:"nav__list-item",children:"rights"})]}),Object(h.jsxs)("div",{className:"nav__top",children:[Object(h.jsx)("div",{className:"nav__top-text",children:"Back to top"}),Object(h.jsx)("button",{className:"nav__top-button",type:"button",onClick:function(){window.scrollTo({top:0,behavior:"smooth"})},children:Object(h.jsx)("img",{src:m,alt:"arrow",className:"nav__top-img"})})]})]})})})},p=(c(34),c(10)),_=c.n(p),g=c.p+"static/media/Favorite_icon.18a4d0a4.svg",x=c.p+"static/media/Basket_icon.1beda4df.svg",f=(c(35),c(8)),v=function(e){try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(c){return console.error("Error retrieving item from localStorage:",c),null}},N=function(e,t){try{var c=JSON.stringify(t);localStorage.setItem(e,c)}catch(a){console.error("Error setting item in localStorage:",a)}},y=Object(d.createContext)(void 0),w=function(e){var t=e.children,c=Object(d.useState)(""),a=Object(r.a)(c,2),n=a[0],s=a[1],i=Object(d.useState)([]),o=Object(r.a)(i,2)[1],l=v("basket")||[],j=v("favorite")||[],b=function(e,t,c){var a=t.some((function(t){return t.id===e.id}));if(a){var n=Object(f.a)(t),s=t.findIndex((function(t){return t.id===e.id}));n.splice(s,1),N(c,n),o(n),console.log("noADD",!a)}else N(c,[].concat(Object(f.a)(t),[e])),console.log("setItem",!a),o([].concat(Object(f.a)(t),[e]))};return Object(h.jsx)(y.Provider,{value:{searchText:n,setSearchText:s,handleAddToBasket:function(e){b(e,l,"basket")},handleAddToFavorite:function(e){b(e,j,"favorite")},getBasket:l,getFavorite:j},children:t})},k=function(){var e=Object(d.useContext)(y);if(!e)throw new Error("useSearchContext must be used within a SearchProvider");return e},S=function(){var e=Object(j.n)(),t=e.pathname,c=e.search,a=k(),n=a.searchText,s=a.setSearchText,i=Object(d.useRef)(null),o=Object(d.useState)(!1),l=Object(r.a)(o,2),b=l[0],u=l[1];return Object(h.jsxs)("div",{className:"searchField",children:[Object(h.jsx)("input",{ref:i,type:"text",className:"searchField__input",id:"search",placeholder:"Search in ".concat(t.slice(1),"..."),value:n,onChange:function(e){s(e.target.value)},onFocus:function(){return u(!0)},onBlur:function(){u(!1)}}),Object(h.jsx)("button",{type:"button",className:"searchField__button",onClick:function(){c&&c.includes("query=")&&n.length>0?s(""):n.length||i.current&&i.current.focus()},children:Object(h.jsx)("span",{className:_()("searchField__img",{"searchField__img-close":b&&n.length>0})})})]})},C=function(e){var t=e.isActive;return _()("navbar__list-item",{"is-active":t})},P=function(){var e="/phones"===Object(j.n)().pathname,t=k(),c=t.getBasket,a=t.getFavorite;return Object(h.jsx)("header",{className:"header",children:Object(h.jsxs)("div",{className:"navigation",children:[Object(h.jsxs)("div",{className:"navigation__left",children:[Object(h.jsx)(l.b,{to:"/",className:"navigation__logo",children:Object(h.jsx)("img",{src:u,className:"navigation__logo-image",alt:"logo_image"})}),Object(h.jsx)("nav",{className:"navbar",children:Object(h.jsxs)("ul",{className:"navbar__list",children:[Object(h.jsx)(l.c,{to:"/",className:C,children:"home"}),Object(h.jsx)(l.c,{to:"phones",className:C,children:"phones"}),Object(h.jsx)(l.c,{to:"tablets",className:C,children:"tablets"}),Object(h.jsx)(l.c,{to:"accessory",className:C,children:"accessories"})]})})]}),Object(h.jsxs)("div",{className:"navigation__right",children:[e&&Object(h.jsx)(S,{}),Object(h.jsxs)(l.b,{to:"/",className:"navigation__icon",children:[Object(h.jsx)("img",{src:g,alt:"icon_favorite",className:"navigation__icon-favorite"}),0!==a.length&&Object(h.jsx)("div",{className:"navigation__icon-basket--counter",children:Object(h.jsx)("span",{className:"navigation__icon-basket--length",children:a.length})})]}),Object(h.jsxs)(l.b,{to:"/",className:"navigation__icon",children:[Object(h.jsx)("img",{src:x,alt:"icon-basket",className:"navigation__icon-basket"}),0!==c.length&&Object(h.jsx)("div",{className:"navigation__icon-basket--counter",children:Object(h.jsx)("span",{className:"navigation__icon-basket--length",children:c.length})})]})]})]})})},E=function(){return Object(h.jsx)(w,{children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(P,{}),Object(h.jsx)("main",{className:"main",children:Object(h.jsx)("div",{className:"main-container",children:Object(h.jsx)(j.a,{})})}),Object(h.jsx)(O,{})]})})},F=(c(36),c(14)),L=(c(37),c.p+"static/media/Banner.a34f00c7.jpg"),A=(c(38),function(){return Object(h.jsx)("section",{className:"banner",children:Object(h.jsxs)(F.a,{id:"banner__slider","aria-label":"Baner-first",options:{autoplay:!0,interval:5e3},children:[Object(h.jsx)(F.b,{children:Object(h.jsx)("img",{src:L,alt:"slide1"})}),Object(h.jsx)(F.b,{children:Object(h.jsx)("img",{src:L,alt:"slide2"})}),Object(h.jsx)(F.b,{children:Object(h.jsx)("img",{src:L,alt:"slide3"})})]})})}),B=(c(39),c(40),c(41),function(e){var t=e.product,c=k(),a=c.handleAddToBasket,n=c.getBasket.find((function(e){return e.id===t.id}));return Object(h.jsx)("button",{className:_()("card__button-add",{"card__button-added":n}),type:"button",onClick:function(e){e.preventDefault(),a(t)},children:n?"Added":"Add to card"})}),T=c.p+"static/media/Favourites (Heart Like).e44e5018.svg",I=c.p+"static/media/Favourites Filled (Heart Like).d554a185.svg",R=(c(42),b.a.memo((function(e){var t=e.product,c=k(),a=c.handleAddToFavorite,n=c.getFavorite.find((function(e){return e.id===t.id}));return Object(h.jsx)("button",{className:"card__button--favorite",type:"button",onClick:function(e){e.preventDefault(),a(t)},children:Object(h.jsx)("img",{src:n?I:T,alt:"heart",className:"card__button--favorite-img"})})}))),M=function(e){var t=e.product,c=t.phoneId,a=t.name,n=t.price,s=t.fullPrice,r=t.screen,i=t.capacity,o=t.ram,j=t.image;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.b,{className:"card",to:"/".concat(t.category,"/").concat(c),children:[Object(h.jsx)("img",{src:"".concat("https://mate-academy.github.io/react_phone-catalog/_new/").concat(j),alt:"image__phone",className:"card__img"}),Object(h.jsx)("div",{className:"card__title",children:a}),Object(h.jsxs)("div",{className:"card__price",children:["$",n,Object(h.jsxs)("span",{children:["$",s]})]}),Object(h.jsxs)("div",{className:"card__properties",children:[Object(h.jsxs)("div",{className:"card__properties-names",children:[Object(h.jsx)("div",{className:"card__properties-name",children:"Screen"}),Object(h.jsx)("div",{className:"card__properties-name",children:"Capacity"}),Object(h.jsx)("div",{className:"card__properties-name",children:"RAM"})]}),Object(h.jsxs)("div",{className:"card__properties-values",children:[Object(h.jsx)("div",{className:"card__properties-value",children:r}),Object(h.jsx)("div",{className:"card__properties-value",children:i}),Object(h.jsx)("div",{className:"card__properties-value",children:o})]})]}),Object(h.jsxs)("div",{className:"card__button",children:[Object(h.jsx)(B,{product:t}),Object(h.jsx)(R,{product:t})]})]})})},U=function(e){var t=e.products;return Object(h.jsxs)("section",{className:"product",children:[Object(h.jsx)("h1",{className:"product__title",children:"Hot prices"}),Object(h.jsx)(F.a,{id:"product__slider","aria-label":"Baner-first",options:{perPage:4,gap:16,pagination:!1},children:t.map((function(e){return Object(h.jsx)(F.b,{children:Object(h.jsx)(M,{product:e})},e.id)}))})]})},D=(c(43),c.p+"static/media/mobile.b914f412.png"),J=c.p+"static/media/tablet.ed3dd9df.png",H=c.p+"static/media/accessories.8478b80a.png",V=function(){return Object(h.jsxs)("section",{className:"category",children:[Object(h.jsx)("div",{className:"category__title",children:"Shop by category"}),Object(h.jsxs)("div",{className:"category__list",children:[Object(h.jsxs)("div",{className:"category__item",children:[Object(h.jsx)(l.b,{to:"/",className:"category__item-link",children:Object(h.jsx)("img",{src:D,alt:"category_img",className:"category__item-img"})}),Object(h.jsx)("div",{className:"category__item-title",children:"Mobile phones"}),Object(h.jsx)("div",{className:"category__item-amount",children:"95 models"})]}),Object(h.jsxs)("div",{className:"category__item",children:[Object(h.jsx)(l.b,{to:"/",className:"category__item-link",children:Object(h.jsx)("img",{src:J,alt:"category_img",className:"category__item-img"})}),Object(h.jsx)("div",{className:"category__item-title",children:"Mobile phones"}),Object(h.jsx)("div",{className:"category__item-amount",children:"95 models"})]}),Object(h.jsxs)("div",{className:"category__item",children:[Object(h.jsx)(l.b,{to:"/",className:"category__item-link",children:Object(h.jsx)("img",{src:H,alt:"category_img",className:"category__item-img"})}),Object(h.jsx)("div",{className:"category__item-title",children:"Mobile phones"}),Object(h.jsx)("div",{className:"category__item-amount",children:"95 models"})]})]})]})},q=function(e){var t=e.products;return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(A,{}),Object(h.jsx)(U,{products:t}),Object(h.jsx)(V,{}),Object(h.jsx)(U,{products:t})]})},G=(c(44),function(){var e=Object(j.n)().pathname.split("/").filter((function(e){return""!==e})),t="";return Object(h.jsxs)("div",{className:"breadcrumbs","data-cy":"breadCrumbs",children:[Object(h.jsx)(l.b,{to:"/",className:"breadcrumbs__home"}),e.map((function(e){t+="/".concat(e.toLowerCase());var c="".concat(e.toLowerCase().replace(/-/g," "));return console.log(t,"current"),Object(h.jsxs)("div",{className:"breadcrumbs__link",children:[Object(h.jsx)("div",{className:"breadcrumbs__icon"}),Object(h.jsx)(l.b,{to:"".concat(t),className:"breadcrumbs__link-to",children:c},e),Object(h.jsx)("div",{})]},e)}))]})}),$=(c(45),c.p+"static/media/arrow.53e0b566.svg"),z=function(e){var t=e.options,c=e.label,a=e.startValue,n=e.selectChange,s=Object(d.useState)(!1),i=Object(r.a)(s,2),o=i[0],l=i[1],j=Object(d.useState)(a),b=Object(r.a)(j,2),u=b[0],m=b[1],O=Object(d.useRef)(null),p=function(e){O.current&&!O.current.contains(e.target)&&l(!1)};return Object(d.useEffect)((function(){o?document.body.addEventListener("click",p):document.body.removeEventListener("click",p)}),[o]),Object(h.jsxs)("div",{className:"dropdown",ref:O,children:[Object(h.jsx)("p",{className:"dropdown__label",children:c}),Object(h.jsxs)("button",{className:_()("dropdown__select",{"dropdown__select--active":o}),type:"button",onClick:function(){return l(!o)},children:[u,Object(h.jsx)("img",{src:$,alt:"arrow",className:_()("dropdown__arrow",{"dropdown__arrow--open":o})})]}),o&&Object(h.jsx)("div",{className:"dropdown__list",children:t.map((function(e){return Object(h.jsx)("button",{className:"dropdown__list-option",onClick:function(){m(e),l(!1),n(e)},type:"button",children:e},e)}))})]})},K=(c(46),c(47),function(e){var t=e.totalPages,c=e.currentPage,a=e.onPageChange,n=Object(l.d)(),s=Object(r.a)(n,2)[1],i=function(e){s((function(t){var c=new URLSearchParams(t.toString());return c.set("page",e.toString()),c}))};return Object(h.jsxs)("div",{className:"pagination",children:[Object(h.jsx)("button",{className:"pagination__left",type:"button",disabled:1===c,onClick:function(){c>1&&(a(c-1),i(c-1))},children:Object(h.jsx)("span",{className:"pagination__icon pagination__left-icon"})}),Object(h.jsx)("div",{className:"pagination__list",children:Array.from({length:t},(function(e,t){return Object(h.jsx)("button",{type:"button",className:_()("pagination__list-item",{active:c===t+1}),onClick:function(){a(t+1),i(t+1)},children:t+1},t+1)}))}),Object(h.jsx)("button",{className:"pagination__right",type:"button",disabled:c===t,onClick:function(){c<t&&(a(c+1),i(c+1))},children:Object(h.jsx)("span",{className:"pagination__icon pagination__right-icon"})})]})}),Q=function(e){return fetch("https://mate-academy.github.io/react_phone-catalog/_new"+e).then((function(e){if(!e.ok)throw new Error;return e.json()}))},W=function(){return Q("/products.json")},X=function(){return W().then((function(e){return Object(f.a)(e).filter((function(e){return"phones"===e.category}))}))},Y=["newest","alphabetically","price"],Z=["all","4","8","16"],ee=function(){var e=Object(d.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,a(t);case 5:return e.prev=5,console.log("downLoad Phones"),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(){return e.apply(this,arguments)}}();Object(d.useEffect)((function(){n()}),[]);var i=k().searchText,j=Object(l.d)(),b=Object(r.a)(j,2),u=b[0],m=b[1],O=Object(d.useState)(""),p=Object(r.a)(O,2),_=p[0],g=p[1],x=Object(d.useState)(Z[0]),v=Object(r.a)(x,2),N=v[0],y=v[1],w=Object(d.useState)(c),S=Object(r.a)(w,2),C=S[0],P=S[1],E=u.get("sort")||"",F=u.get("perPage")||"",L=Object(d.useState)(1),A=Object(r.a)(L,2),B=A[0],T=A[1],I=u.get("page"),R=Object(d.useState)(I?Number(I):1),U=Object(r.a)(R,2),D=U[0],J=U[1],H=Object(d.useState)(c),V=Object(r.a)(H,2),q=V[0],$=V[1],Q=function(e,t){"sort"===e?g(t):"perPage"===e&&y(t),m((function(c){return c.set(e,t),new URLSearchParams(c.toString())}))};Object(d.useEffect)((function(){E&&g(E),F&&y(F),m((function(e){return e.set("query",i||""),I||e.set("page","1"),new URLSearchParams(e.toString())}))}),[u,i]),Object(d.useEffect)((function(){var e=Object(f.a)(c);switch(_){case"newest":e.sort((function(e,t){return t.year-e.year}));break;case"alphabetically":e.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":e.sort((function(e,t){return e.price-t.price}))}var t=e.filter((function(e){return e.name.toLowerCase().includes(i.toLowerCase())}));P(t)}),[c,_,N,i]);return Object(d.useEffect)((function(){if("all"!==N){var e=Math.ceil(C.length/Number(N)),t=(D-1)*Number(N),c=t+Number(N),a=C.slice(t,c);$(a),T(e)}else{var n=C.slice(0,C.length);$(n),T(1)}}),[C,B,D,i]),Object(d.useEffect)((function(){I||m((function(e){var t=new URLSearchParams(e.toString());return t.set("page","1"),t}))}),[u]),Object(h.jsxs)("section",{className:"mobile__container",children:[Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(G,{}),Object(h.jsxs)("div",{className:"mobile",children:[Object(h.jsx)("div",{className:"mobile__title",children:"Mobile phones"}),Object(h.jsx)("p",{className:"mobile__count",children:"".concat(c.length," models")}),Object(h.jsxs)("div",{className:"mobile__dropdown",children:[Object(h.jsx)(z,{options:Y,startValue:E||"Choose an option",label:"Sort by",selectChange:function(e){Q("sort",e)}}),Object(h.jsx)(z,{options:Z,startValue:F||"All",label:"Items on page",selectChange:function(e){Q("perPage",e),J(1),m((function(e){return e.delete("page"),new URLSearchParams(e.toString())}))}})]}),Object(h.jsx)("div",{className:"mobile__list",children:q.map((function(e){return Object(h.jsx)(M,{product:e},e.id)}))})]})]}),1!==B&&!!C.length&&Object(h.jsx)(K,{totalPages:B,onPageChange:function(e){J(e),m((function(t){var c=new URLSearchParams(t.toString());return c.set("page",e.toString()),c}))},currentPage:D})]})},te=function(){return Object(h.jsx)("div",{children:"TabletPages"})},ce=function(){return Object(h.jsx)("div",{children:"AccessoriesPages"})},ae=(c(48),function(){var e=Object(j.r)().productId,t=Object(d.useState)([]),c=Object(r.a)(t,2),a=c[0],n=c[1];return Object(d.useEffect)((function(){var e=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X();case 3:t=e.sent,n(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error loading products:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log(a[0],e),Object(h.jsx)("section",{className:"details",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(G,{})})})}),ne=function(){var e=Object(d.useState)([]),t=Object(r.a)(e,2),c=t[0],a=t[1],n=function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:t=e.sent,a(t);case 5:return e.prev=5,console.log("download all Products"),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[0,,5,8]])})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){n()}),[]),Object(h.jsx)(l.a,{children:Object(h.jsx)(j.d,{children:Object(h.jsxs)(j.b,{path:"/",element:Object(h.jsx)(E,{}),children:[Object(h.jsx)(j.b,{index:!0,element:Object(h.jsx)(q,{products:c})}),Object(h.jsxs)(j.b,{path:"phones",children:[Object(h.jsx)(j.b,{index:!0,element:Object(h.jsx)(ee,{})}),Object(h.jsx)(j.b,{path:":productId",element:Object(h.jsx)(ae,{})})]}),Object(h.jsx)(j.b,{path:"tablets",children:Object(h.jsx)(j.b,{index:!0,element:Object(h.jsx)(te,{})})}),Object(h.jsx)(j.b,{path:"accessory",children:Object(h.jsx)(j.b,{index:!0,element:Object(h.jsx)(ce,{})})})]})})})};c(49);n.a.render(Object(h.jsx)(ne,{}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.131767c4.chunk.js.map